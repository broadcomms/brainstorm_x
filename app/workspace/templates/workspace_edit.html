<!-- File: app/workspace/templates/workspace_edit.html -->
{% extends "main_template.html" %}
{% block title %}Edit Workspace: {{ workspace.name }}{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>Edit Workspace: {{ workspace.name }}</h2>
  <form action="{{ url_for('workspace_bp.edit_workspace', workspace_id=workspace.workspace_id) }}" method="POST">
    <div class="mb-3">
      <label for="name" class="form-label">Workspace Name</label>
      <input type="text" name="name" id="name" class="form-control" value="{{ request.form.get('name', workspace.name) }}" required>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Workspace Description</label>
      <textarea name="description" id="description" class="form-control" rows="3" placeholder="Enter a brief description of the workspace">{{ request.form.get('description', workspace.description or '') }}</textarea>
       {# Use 'or' '' to handle None description #}
    </div>

    <div class="form-check mb-3">
      {# Check request.form first for sticky checkbox on validation error #}
      {% set checked = 'checked' if request.form.get('is_private', 'off' if not workspace.is_private else 'on') == 'on' else '' %}
      <input class="form-check-input" type="checkbox" name="is_private" id="is_private" {{ checked }}>
      <label class="form-check-label" for="is_private">Private Workspace</label>
    </div>

    <button class="btn btn-primary" type="submit">Save Changes</button>
    <a href="{{ url_for('workspace_bp.view_workspace', workspace_id=workspace.workspace_id) }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
