<!-- app/account/templates/create_workspace.html -->
{% extends "main_template.html" %}
{% block title %}Create Workspace{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>Create Workspace</h2>
  <form action="{{ url_for('workspace_bp.create_workspace') }}" method="POST">
    <div class="mb-3">
      <label for="name" class="form-label">Workspace Name</label>
      <input type="text" name="name" id="name" class="form-control" required>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Workspace Description</label>
      <textarea name="description" id="description" class="form-control" rows="3" placeholder="Enter a brief description of the workspace"></textarea>
    </div>

    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" name="is_private" id="is_private">
      <label class="form-check-label" for="is_private">Private Workspace</label>
    </div>

    <button class="btn btn-primary" type="submit">Create</button>
  </form>
</div>




<script>
  // DEBUG SCRIPT # TODO: Remove this when ready
  document.addEventListener('DOMContentLoaded', function () {
 
      console.log('Create Workspace auto-fill script loaded.');
      // Function to toggle auto-fill
      window.toggleAutoFillWorkspace = function (enable) {
          localStorage.setItem('autoFillWorkspace', enable);
          console.log('Auto-fill Workspace ' + (enable ? 'enabled' : 'disabled'));
          applyAutoFill(); // Call applyAutoFill after toggling
      };

      function applyAutoFill() {
          const autoFillEnabled = localStorage.getItem('autoFillWorkspace') === 'true';

          if (autoFillEnabled) {
              document.querySelector('input[name="name"]').value = 'Acme Corporation';
              document.querySelector('textarea[name="description"]').value = 'Collaborative space for Acme product ideation and feature sprints';
          }
      }

      applyAutoFill(); // Initial application of auto-fill

      console.log('Workspace auto-fill script loaded. Use toggleAutoFillWorkspace(true) to enable or toggleAutoFillWorkspace(false) to disable.');

  });


</script>


{% endblock %}
