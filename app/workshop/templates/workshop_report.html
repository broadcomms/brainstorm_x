{# app/workshop/templates/workshop_report.html #}
{% extends "base.html" %}
{% block title %}Report: {{ workshop.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-sm">
         <div class="card-header bg-secondary text-white">
            <h1 class="h4 mb-0">Workshop Report: {{ workshop.title }}</h1>
        </div>
        <div class="card-body">
            <p><strong>Status:</strong> <span class="badge bg-dark">Completed</span></p>
            <p><strong>Date:</strong> {{ workshop.date_time.strftime('%Y-%m-%d') }}</p>
            {# Add actual start/end times if recorded #}

            <hr>
            <h5 class="mt-3">Summary</h5>
            <div class="border rounded p-3 bg-light mb-3">
                <p class="text-muted">AI-generated summary will appear here...</p>
                {# Populate with data #}
            </div>

            <hr>
            <h5 class="mt-3">Full Transcription</h5>
             <div class="border rounded p-3 bg-light mb-3" style="max-height: 400px; overflow-y: auto;">
                <p class="text-muted">Full transcription text will appear here...</p>
                {# Populate with data #}
            </div>

             <hr>
            <h5 class="mt-3">Action Items</h5>
             <div class="border rounded p-3 bg-light mb-3">
                <p class="text-muted">Identified action items will appear here...</p>
                 {# Populate with data #}
            </div>

            <hr>
            <h5 class="mt-3">Participants</h5>
            <ul class="list-group">
                {% for p in participants %}
                    <li class="list-group-item">
                        <img src="{{ url_for('static', filename=p.user.profile_pic_url or 'default-profile.png') }}" alt="pic" class="rounded-circle me-2" style="width: 30px; height: 30px; object-fit: cover;">
                        {{ p.user.first_name or p.user.email }}
                        {% if p.role == 'organizer' or p.user_id == workshop.created_by_id %}
                            <span class="badge bg-primary ms-1">Organizer</span>
                        {% endif %}
                        {# Add attendance status if tracked #}
                    </li>
                {% endfor %}
            </ul>

             <div class="mt-4">
                 <a href="{{ url_for('workshop_bp.list_workshops') }}" class="btn btn-outline-secondary">Back to Workshops</a>
                 {# Add download report button if needed #}
             </div>

        </div>
    </div>
</div>
{% endblock %}
